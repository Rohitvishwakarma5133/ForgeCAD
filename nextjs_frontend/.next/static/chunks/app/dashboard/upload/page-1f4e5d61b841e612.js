(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{235:(e,s,t)=>{"use strict";t.d(s,{J:()=>l});var a=t(5155);t(2115);var i=t(489),r=t(5016);function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},4243:(e,s,t)=>{Promise.resolve().then(t.bind(t,7680))},6170:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5155);t(2115);var i=t(5016);function r(e){let{className:s,type:t,...r}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}},7680:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(5155),i=t(2115),r=t(1733),l=t(3209),n=t(7003),c=t(6170),d=t(235),o=t(7812),x=t(1793),u=t(4033),m=t(5917),p=t(2108),h=t(5016);function g(e){let{...s}=e;return(0,a.jsx)(x.bL,{"data-slot":"select",...s})}function j(e){let{...s}=e;return(0,a.jsx)(x.WT,{"data-slot":"select-value",...s})}function f(e){let{className:s,size:t="default",children:i,...r}=e;return(0,a.jsxs)(x.l9,{"data-slot":"select-trigger","data-size":t,className:(0,h.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r,children:[i,(0,a.jsx)(x.In,{asChild:!0,children:(0,a.jsx)(u.A,{className:"size-4 opacity-50"})})]})}function v(e){let{className:s,children:t,position:i="popper",align:r="center",...l}=e;return(0,a.jsx)(x.ZL,{children:(0,a.jsxs)(x.UC,{"data-slot":"select-content",className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,align:r,...l,children:[(0,a.jsx)(b,{}),(0,a.jsx)(x.LM,{className:(0,h.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(N,{})]})})}function y(e){let{className:s,children:t,...i}=e;return(0,a.jsxs)(x.q7,{"data-slot":"select-item",className:(0,h.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(x.VF,{children:(0,a.jsx)(m.A,{className:"size-4"})})}),(0,a.jsx)(x.p4,{children:t})]})}function b(e){let{className:s,...t}=e;return(0,a.jsx)(x.PP,{"data-slot":"select-scroll-up-button",className:(0,h.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(p.A,{className:"size-4"})})}function N(e){let{className:s,...t}=e;return(0,a.jsx)(x.wn,{"data-slot":"select-scroll-down-button",className:(0,h.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(u.A,{className:"size-4"})})}var w=t(3330),P=t(9283),S=t(3106),z=t(5870),C=t(6132),k=t(3327);function A(){let[e,s]=(0,i.useState)("setup"),[t,x]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[p,h]=(0,i.useState)("normal"),[b,N]=(0,i.useState)(""),[A,_]=(0,i.useState)(null),[U,D]=(0,i.useState)(null),[F,I]=(0,i.useState)(null),Z=async e=>{if(!u)return void I("Please select a drawing type first");if(e instanceof File){N(e.name),I(null);try{let a=new FormData;a.append("file",e),a.append("projectName",t||"Untitled Project"),a.append("drawingType",u),a.append("priority",p);let i=await fetch("/api/upload",{method:"POST",body:a}),r=await i.json();if(!i.ok)throw Error(r.error||"Upload failed");D(r.conversionId),s("processing")}catch(e){console.error("Upload error:",e),I(e instanceof Error?e.message:"Upload failed"),s("error")}}else N(e.filename),D(e.conversionId),s("processing")},E=()=>{s("setup"),x(""),m(""),h("normal"),N(""),_(null),D(null),I(null)};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Drawing"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Convert your engineering drawings with advanced AI processing"})]}),(0,a.jsx)(o.E,{variant:"outline",className:"text-sm",children:"47 credits remaining"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm ".concat("setup"===e?"bg-blue-600 text-white":"bg-green-500 text-white"),children:"1"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat("setup"===e?"text-blue-600":"text-gray-500"),children:"Setup"})]}),(0,a.jsx)("div",{className:"w-8 h-0.5 ".concat("upload"===e||"processing"===e||"results"===e?"bg-green-500":"bg-gray-300")}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm ".concat("upload"===e?"bg-blue-600 text-white":"processing"===e||"results"===e?"bg-green-500 text-white":"bg-gray-300 text-gray-600"),children:"2"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat("upload"===e?"text-blue-600":"text-gray-500"),children:"Upload"})]}),(0,a.jsx)("div",{className:"w-8 h-0.5 ".concat("processing"===e||"results"===e?"bg-green-500":"bg-gray-300")}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm ".concat("processing"===e?"bg-blue-600 text-white":"results"===e?"bg-green-500 text-white":"bg-gray-300 text-gray-600"),children:"3"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat("processing"===e?"text-blue-600":"text-gray-500"),children:"Process"})]}),(0,a.jsx)("div",{className:"w-8 h-0.5 ".concat("results"===e?"bg-green-500":"bg-gray-300")}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-semibold text-sm ".concat("results"===e?"bg-green-500 text-white":"bg-gray-300 text-gray-600"),children:"4"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat("results"===e?"text-green-600":"text-gray-500"),children:"Complete"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-3",children:["setup"===e&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"w-5 h-5"}),"Conversion Settings"]}),(0,a.jsx)(l.BT,{children:"Configure your drawing conversion preferences"})]}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"project-name",children:"Project Name (Optional)"}),(0,a.jsx)(c.p,{id:"project-name",placeholder:"e.g., Refinery Unit A",value:t,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"drawing-type",children:"Drawing Type"}),(0,a.jsxs)(g,{value:u,onValueChange:m,children:[(0,a.jsx)(f,{children:(0,a.jsx)(j,{placeholder:"Select drawing type"})}),(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{value:"pid",children:"P&ID (Process & Instrumentation)"}),(0,a.jsx)(y,{value:"electrical",children:"Electrical Schematic"}),(0,a.jsx)(y,{value:"mechanical",children:"Mechanical Drawing"}),(0,a.jsx)(y,{value:"structural",children:"Structural Drawing"}),(0,a.jsx)(y,{value:"piping",children:"Piping Isometric"}),(0,a.jsx)(y,{value:"other",children:"Other"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"priority",children:"Processing Priority"}),(0,a.jsxs)(g,{value:p,onValueChange:h,children:[(0,a.jsx)(f,{className:"md:w-1/2",children:(0,a.jsx)(j,{})}),(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{value:"normal",children:"Normal (4 hours SLA)"}),(0,a.jsx)(y,{value:"high",children:"High Priority (1 hour SLA) - +$5"})]})]})]}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)(n.$,{onClick:()=>{s("upload")},disabled:!u,size:"lg",children:"Continue to Upload"})})]})]})}),"upload"===e&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsx)(w.A,{onUpload:Z,onSampleLoad:e=>{if(!u)return void I("Please select a drawing type first");N(e),D("sample_".concat(Date.now())),s("processing")},isUploading:!1})}),"processing"===e&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsx)(P.A,{filename:b,conversionId:U,onComplete:e=>{_(e),s("results")},onError:e=>{I(e),s("error")}})}),"error"===e&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-red-200 max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(C.A,{className:"w-8 h-8 text-red-600"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-red-700 mb-2",children:"Processing Failed"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:F||"An error occurred during processing."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(n.$,{onClick:()=>s("upload"),className:"w-full",children:"Try Again"}),(0,a.jsx)(n.$,{variant:"outline",onClick:E,className:"w-full",children:"Start Over"})]})]})})}),"results"===e&&A&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsx)(S.A,{result:A,onStartNew:E})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[("upload"===e||"processing"===e||"results"===e)&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{className:"text-lg",children:"Current Settings"})}),(0,a.jsxs)(l.Wu,{className:"space-y-3",children:[t&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{className:"text-xs text-gray-500",children:"Project"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:t})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{className:"text-xs text-gray-500",children:"Type"}),(0,a.jsx)("p",{className:"text-sm font-medium capitalize",children:"pid"===u?"P&ID":u})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{className:"text-xs text-gray-500",children:"Priority"}),(0,a.jsx)("p",{className:"text-sm font-medium capitalize",children:p})]}),"results"!==e&&(0,a.jsx)(n.$,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>s("setup"),children:"Change Settings"})]})]})}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),"Tips for Best Results"]})}),(0,a.jsx)(l.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"text-sm space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"File Quality:"})," Use high-resolution scans (300+ DPI)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Format:"})," PDF or PNG files work best"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Size:"})," Keep files under 50MB"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Clarity:"})," Ensure text and symbols are clearly visible"]})]})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{className:"text-lg",children:"Usage This Month"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{children:"Drawings"}),(0,a.jsx)("span",{children:"34/100"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full w-[34%]"})})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Resets April 1st"})]})})]}),(0,a.jsx)(l.Zp,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200",children:(0,a.jsxs)(l.Wu,{className:"p-4 text-center",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Need Help?"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Our support team is here to help you get the best results."}),(0,a.jsx)(n.$,{size:"sm",variant:"outline",children:"Contact Support"})]})})]})]})]})}}},e=>{e.O(0,[545,733,839,143,55,889,441,493,358],()=>e(e.s=4243)),_N_E=e.O()}]);